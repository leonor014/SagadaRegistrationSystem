<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tourism Analytics Dashboard</title>
  <link rel="stylesheet" href="./style.css" />
  <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css"/>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script type="module" src="./script.js"></script>
</head>
<body>
  <div id="container">
    <nav class="sidebar">
        <div class="sidebar-header">
            <div class="logo-name">
                <div class="logo-image">
                    <img id="userAvatar" src="https://avatar.iran.liara.run/username?username=Leonor+Balintag"
                        alt="User Avatar">
                </div>
                <span class="logo_name">Dashboard</span>
            </div>
            <i class="uil uil-bars sidebar-toggle" id="sidebarToggle"></i>
        </div>
        
        <div class="menu-items">
            <ul class="nav-links">
                <li><a href="../dashboard/">
                        <i class="uil uil-estate"></i>
                        <span class="link-name">Dashboard</span>
                    </a></li>
                <li><a href="../analytics/" class="active">
                        <i class="uil uil-chart-line"></i>
                        <span class="link-name">Analytics</span>
                    </a></li>
                <li><a href="../reviews/">
                        <i class="uil uil-comments"></i>
                        <span class="link-name">Reviews</span>
                    </a></li>
                <li><a href="../tourist-spots/">
                        <i class="uil uil-location-point"></i>
                        <span class="link-name">Tourist Spots</span>
                    </a></li>
                <li><a href="../tourist-guidelines/">
                        <i class="uil uil-book-open"></i>
                        <span class="link-name">Tourist Guidelines</span>
                    </a></li>
                <li><a href="../faq/">
                        <i class="uil uil-question-circle"></i>
                        <span class="link-name">FAQ</span>
                    </a></li>
                <li><a href="../admins/">
                        <i class="uil uil-users-alt"></i>
                        <span class="link-name">Admins</span>
                    </a></li>
            </ul>
            
            <ul class="logout-mode">
                <li>
                    <a href="#" id="logoutLink">
                        <i class="uil uil-signout"></i>
                        <span class="link-name">Logout</span>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Main Dashboard Content -->
    <section class="dashboard-main">
        <div class="top">
            <div class="top-container">
                <i class="uil uil-bars sidebar-toggle" id="sidebarToggle"></i>
                <div class="dashboard-title">
                    <h1>Tourism Analytics Dashboard</h1>
                    <p>Insights into tourist visits and trends</p>
                </div>
            </div>
        </div>


        <div class="dashboard-content">
            <!-- Report type selector and site dropdown -->
            <div class="report-selector">
                <div class="selector-group">
                    <label for="report-type">Report Type:</label>
                    <select id="report-type">
                        <option value="general">General Analytics</option>
                        <option value="tourist-spot">Tourist Spot</option>
                    </select>
                </div>
                
                <div class="selector-group" id="site-selector-container">
                    <label for="site-dropdown">Tourist Site:</label>
                    <select id="site-dropdown">
                        <option value="__all">All Sites</option>
                    </select>
                </div>
            </div>

            <!-- Main content: Left: charts + top-left filters -->
            <main class="main-content">
                <section class="top-controls">
                    <div class="filters-left">
                        <label for="filter-type">View By:</label>
                        <select id="filter-type">
                            <option value="month">Monthly</option>
                            <option value="year">Yearly</option>
                        </select>
                        
                        <label for="month-filter" id="date-filter-label">Month</label>
                        <input type="month" id="month-filter" />
                        <button id="apply-filters">Apply</button>
                    </div>
                </section>

                <!-- Report Sections -->
                <div id="general-analytics" class="report-section active">
                    <div class="content-grid">
                        <section class="charts-container" id="general-charts-area">
                            <!-- Charts will be inserted here by JavaScript -->
                        </section>
                  
                        <aside class="analytics-sidebar">
                            <div class="analytics-card">
                                <h3 id="analytics-title">General Analytics</h3>
                                <div id="kpi-section" class="kpi-section">
                                    <!-- KPI cards will be inserted here -->
                                </div>
                            </div>

                            <div class="analytics-card">
                                <h3>Filters</h3>
                                <p>Current selection: <span id="current-filter-display">All data</span></p>
                                <p>Date range: <span id="date-range-display">September 2025</span></p>
                            </div>
                        </aside>
                    </div>
                </div>

                <div id="tourist-spot-analytics" class="report-section">
                    <div class="content-grid">
                        <section class="charts-container" id="tourist-charts-area">
                            <!-- Charts will be inserted here by JavaScript -->
                        </section>
                  
                        <aside class="analytics-sidebar">
                            <div class="analytics-card">
                                <h3>Tourist Spot Analytics</h3>
                                <div id="kpi-section-tourist" class="kpi-section">
                                    <!-- KPI cards will be inserted here -->
                                </div>
                            </div>

                            <div class="analytics-card">
                                <h3>Filters</h3>
                                <p>Current selection: <span id="current-site-display">All Sites</span></p>
                                <p>Date range: <span id="date-range-display-tourist">September 2025</span></p>
                            </div>
                        </aside>
                    </div>
                </div>
            </main>
        </div>
    </section>
  </div>

  <footer>
    <p>&copy; 2025 Discover Sagada. All rights reserved.</p>
  </footer>

  <script>
    // Enhanced Sidebar toggle functionality
    document.addEventListener("DOMContentLoaded", function () {
        const sidebar = document.querySelector(".sidebar");
        const sidebarToggle = document.getElementById("sidebarToggle");
        const dashboardMain = document.querySelector(".dashboard-main");
        const footer = document.querySelector("footer");

        // Toggle sidebar function with smooth transitions
        function toggleSidebar() {
            sidebar.classList.toggle("close");
            dashboardMain.classList.toggle("sidebar-collapsed");
            footer.classList.toggle("sidebar-collapsed");
            sidebarToggle.classList.toggle("rotated");

            // Store collapsed state
                localStorage.setItem('sidebarCollapsed', sidebar.classList.contains("close"));
        }

        // Responsive behavior
        function handleResize() {
            if (window.innerWidth <= 768) {
                sidebar.classList.add("close", "mobile");
                dashboardMain.classList.add("sidebar-collapsed");
                footer.classList.add("sidebar-collapsed");
            } else {
                const isCollapsed = localStorage.getItem('sidebarCollapsed') === 'true';
                sidebar.classList.toggle("close", isCollapsed);
                dashboardMain.classList.toggle("sidebar-collapsed", isCollapsed);
                footer.classList.toggle("sidebar-collapsed", isCollapsed);
            }
        }

        // Toggle on click
        sidebarToggle.addEventListener("click", toggleSidebar);

        // Auto-close when clicking outside on mobile
        document.addEventListener("click", function (e) {
            if (window.innerWidth <= 768 && 
                sidebar.classList.contains("mobile") && 
                !sidebar.contains(e.target) && 
                !sidebarToggle.contains(e.target)) {
                sidebar.classList.add("close");
            }
        });

        // Run on page load + resize
        handleResize();
        window.addEventListener("resize", handleResize);
        });
  </script>
</body>
</html>